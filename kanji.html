<html>
	<head>
		<script src="three.min.js"></script>
		<script src="ThreeCSG.js"></script>

		<script>
			function createScene(addFrame)
			{
				renderer = new THREE.WebGLRenderer({antialias:true});
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );
				renderer.domElement.style = 'width:100%; height:100%; position:fixed; top:0; left:0; z-index:-1;';
				
				scene = new THREE.Scene();
				camera = new THREE.PerspectiveCamera( 30, window.innerWidth/window.innerHeight, 0.1, 1000 );

				var ground = new THREE.Mesh(
					new THREE.PlaneGeometry(13000,13000),
					new THREE.MeshPhongMaterial({color:'goldenrod'})
				);
				ground.position.set(0,-11,0);
				ground.rotation.set(-Math.PI/2,0,0);
				scene.add( ground );

				if (addFrame)
				{
					var walls = new THREE.Mesh(
						new THREE.BoxGeometry(21,21,11),
						new THREE.MeshPhongMaterial({color:'white',shininess:220,opacity:0.6,transparent:true,side:THREE.DoubleSide})
					);
					scene.add(walls);

					var frame = new THREE.BoxHelper(walls);
					frame.material.color.set('white');
					scene.add( frame );
				}

				lights=[];
				var colors=['dodgerblue','hotpink','cyan','fuchsia'];
				for (var i=0; i<4; i++)
				{
					lights[i] = new THREE.PointLight(colors[i],1);
					scene.add(lights[i]);
				}
				
				drawFrame();
			}
			
			var t = 0; 
			function drawFrame()
			{
				requestAnimationFrame( drawFrame );
				
				t++;
				
				scene.rotation.x = Math.sin(t/135)/10;
				scene.rotation.y = Math.sin(t/200)/2;
				scene.rotation.z = Math.cos(t/111)/10;

				camera.position.set(0,3,60+10*Math.sin(t/250));
				camera.lookAt(new THREE.Vector3(0,0,0));

				for (var i=0; i<4; i++)
				{
					var angle = t/100+Math.PI/2*i;
					lights[i].position.set(
						15*Math.cos(angle),
						10*Math.sin(1.5*angle)+5,
						10);
				}
				
				renderer.render( scene, camera );
			}		
		</script>
	</head>
	
	<body>
		<script>
			createScene(true); 
			
			var geometry = new THREE.BoxGeometry( 12, 1, 10 );
			var material = new THREE.MeshPhongMaterial();
			var beam = new THREE.Mesh( geometry, material );
			scene.add(beam);
			beam.position.set(2,0,0);
			
			var geometry1 = new THREE.BoxGeometry( 9, 1, 10 );
			var beam1 = new THREE.Mesh( geometry1, material );
			scene.add(beam1);
			beam1.position.set(3,-3,0);			
			
			var geometry3 = new THREE.BoxGeometry( 1, 14.5, 10 );
			var beam3 = new THREE.Mesh( geometry3, material );
			scene.add(beam3);
			beam3.position.set(-5.5,-2,0);
			
			var geometry2 = new THREE.BoxGeometry( 8, 1, 10 );
			var beam2 = new THREE.Mesh( geometry2, material );
			scene.add(beam2);
			beam2.position.set(2,2,0);
		
			var beam4 = new THREE.Mesh( geometry2, material );
			scene.add(beam4);
			beam4.position.set(2,6,0);
			
			var beam5 = new THREE.Mesh( geometry2, material );
			scene.add(beam5);
			beam5.position.set(2,4,0);
			
			var geometry8 = new THREE.BoxGeometry( 9, 1, 10 );
			var beam8 = new THREE.Mesh( geometry8, material );
			scene.add(beam8);
			beam8.position.set(3,8,0);
			
			var geometry6 = new THREE.BoxGeometry( 1, 5, 10 );
			var beam6 = new THREE.Mesh( geometry6, material );
			scene.add(beam6);
			beam6.position.set(-1.5,4,0);
			
			var geometry7 = new THREE.BoxGeometry( 1, 5, 10 );
			var beam7 = new THREE.Mesh( geometry7, material );
			scene.add(beam7);
			beam7.position.set(6,4,0);

			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/7; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 10	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -11;
			curve.position.y = 12;
			curve.rotation.z = -Math.PI/4	  	;
			scene.add(curve);
			
			
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/3.5	; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 10	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -14.3;
			curve.position.y = 10
			curve.rotation.z = -Math.PI/3;
			scene.add(curve);
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/6; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 10	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -8.5;
			curve.position.y = 4.4;
			curve.rotation.z = -Math.PI/3;
			scene.add(curve);
			
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/5.5; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 10	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -7.8;
			curve.position.y = 1.4;
			curve.rotation.z = -Math.PI/3;
			scene.add(curve);
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/4; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 10	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -6;
			curve.position.y = -0.5;
			curve.rotation.z = -Math.PI/3;
			scene.add(curve);
			
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/8; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 13	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = -5.89;
			curve.position.y = -3.5;
			curve.rotation.z = -Math.PI/9;
			scene.add(curve);
			
			
			var curve = new THREE.Object3D();
			var geometryC = new THREE.BoxGeometry( 1, 1, 10 );
			var N=360;			
			for (var i=0; i<N/20; i++)
			{
				var a = 2*Math.PI*i/N/2;
				var r = 13	;					
				var part = new THREE.Mesh( geometryC, material );					
				part.position.set( r*Math.cos(a), r*Math.sin(a), 0 );
				part.rotation.z = Math.PI/N*i;					
				curve.add(part);
			}
			curve.position.x = 6.5;
			curve.position.y = 4.9;
			curve.rotation.z = -Math.PI/1.8;
			scene.add(curve);			
			
		</script>
	</body>
</html>
